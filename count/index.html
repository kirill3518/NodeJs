<html>
<script src="https://cdn.socket.io/3.1.1/socket.io.min.js"
    integrity="sha384-gDaozqUvc4HTgo8iZjwth73C6dDDeOJsAgpxBcMpZYztUfjHXpzrpdrHRdVp8ySO"
    crossorigin="anonymous"></script>

<head>
    <title>Count App</title>
</head>

<body>
    <div id="count">Count</div>
    <hr>
    <div id="dir"></div>
</body>
<script type="text/javascript">
    const socket = io('localhost:3000', {
        'reconnection': true
    });
    const setCount = (value) => {
        document.getElementById('count').innerHTML = `Count: ${value}`;
    };

    const setDir = (value) => {
        document.getElementById('dir').innerHTML = value;
    };

    socket.on('connect', function () {
        console.log('Successful connected to server');
    });

    socket.on('COUNT_MSG', function (data) {
        setCount(data.count);
    });

    socket.on('DIR_MSG', function (data) {
        setDir(data.dir);
    });

</script>

</html>